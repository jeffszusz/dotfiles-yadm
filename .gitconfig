[user]
  name = Jeffrey Szusz
  email = jeff.szusz@gmail.com
  username = jeffszusz

[includeIf "gitdir:~/work/"]
    path = ~/.gitconfig-work

[core]
  editor = nvim
  excludesfile = /Users/jeffszusz/.gitignore_global
  autocrlf = input # automatically fix line-endings
  pager = delta

[push]
  default = current

[pull]
  rebase = true

[fetch]
  prune = true

[delta]
  ; navigate = true
  dark = true 
  side-by-side = true 
  line-numbers = true

[diff]
  colorMoved = dimmed-zebra
  colormovedws = allow-indentation-change

[interactive]
  diffFilter = delta --color-only

[merge]
  conflictStyle = zdiff3

[alias]
  bug = "!f() { echo "$1" | xargs -I {} git checkout -b bug/{}; }; f"
  story = "!f() { echo "$1" | xargs -I {} git checkout -b story/{}; }; f"
  task = "!f() { echo "$1" | xargs -I {} git checkout -b task/{}; }; f"
  feature = "!f() { echo "$1" | xargs -I {} git checkout -b feature/{}; }; f"
  spike = "!f() { echo "$1" | xargs -I {} git checkout -b spike/{}; }; f"
  hotfix = "!f() { echo "$1" | xargs -I {} git checkout -b hotfix/{}; }; f"
  cp = !git branch --show-current | tr -d '\n' | pbcopy
  oops = "reset HEAD~"
  wipe = "reset --hard HEAD"
  com = "!f() { b=$(git symbolic-ref --short HEAD); b=${b##*/}; b=${b%%_*}; git commit -a -m \"$b $1\"; }; f"
  catchup = "!oldstashes=$(git stash list | wc -l) && git stash && newstashes=$(git stash list | wc -l) && git fetch && git merge develop && if [ $newstashes -gt $oldstashes ]; then git stash apply; fi"
  lds = log --pretty=format:"%C(yellow)%h\\ %ad%Cred%d\\ %Creset%s%Cblue\\ [%cn\\ %cr]" --decorate --date=short
  sofar = diff --name-only develop..
  standup = "!git log --since yesterday.0:00am --author `git config user.email` --pretty=short"
  ignored = "ls-files --others -i"
  adog = log --all --decorate --oneline --graph
  sshow = "!f() { git stash show stash^{/$*} -p; }; f"
  sapply = "!f() { git stash apply stash^{/$*}; }; f"
  cleanmerged = !git branch --merged | grep -v \"\\*\" | grep -v develop | grep -v master | grep -v sqa | grep -v staging | grep -v loadtesting | grep -v production | xargs -n 1 git branch -d && git remote prune origin
  orphans = "!f() { (\
    git branch --format='%(refname:short) %(upstream)' | \
    awk '{if (!$2) print $1;}' | \
    xargs -I branchname git log -1 develop..branchname --pretty=format:'%D%n' --before='4 weeks ago' \
    )}; f"
  cleanorphans = !git orphans | xargs -n 1 git branch -D
  cleanup = !git cleanmerged && git cleanorphans

